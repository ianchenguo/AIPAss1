<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <!-- this page is a cascading template from a base template -->
    <ui:composition template="./../../../pagetemplate/layouttemplate.xhtml">

        <!--define meta data -->
        <ui:define name="metadata">
            <!-- cascading the meta data definition to the child page -->
            <ui:insert name="metadata" />
        </ui:define>

        <!-- define the center content title -->
        <ui:define name="title">
            <!-- cascading the page title definition to the child page -->
            <ui:insert name="title" />
        </ui:define>

        <!-- define the left content -->
        <ui:define name="left">
            <h:form>
                <p:menu>
                    <p:submenu label="Tasks">
                        <p:menuitem value="Activity List" url="activitylist.xhtml"/>
                    </p:submenu>

                    <p:submenu label="Account">
                        <p:menuitem value="Logout" url="./../../index.xhtml"/>
                    </p:submenu>
                </p:menu>
            </h:form>
        </ui:define>

        <!-- define the center content -->
        <ui:define name="center">
            <!-- the main content of the center compartment -->
            <div class="center-content">
                <h1><ui:insert name="center-title"/></h1>


                <div id="activity-form-section">
                    <h:form id="activity-detail-form">
                        <p:panelGrid>
                            <p:row>
                                <p:column colspan="20"><p:outputLabel for="name" value="Title: "/></p:column>                                                
                                <p:column colspan="50">
                                    <p:inputText id="name" 
                                                 value="#{activityController.activity.name}" 
                                                 label="name"
                                                 required="true"
                                                 requiredMessage="Activity title cannot be empty"/>
                                    <p:message for="name"/>
                                    <p:watermark for="name" value="Activity title"/>
                                </p:column>

                            </p:row>
                            <p:row>
                                <p:column colspan="20"><p:outputLabel for="provider" value="Provider: "/></p:column>
                                <p:column colspan="50">
                                    <p:inputText id="provider" 
                                                 value="#{activityController.activity.provider}" 
                                                 label="provider" 
                                                 required="true"
                                                 requiredMessage="Provider cannot be empty"/>
                                    <p:message for="provider"/>
                                    <p:watermark for="provider" value="Provider name"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="20"><p:outputLabel for="state" value="State: "/></p:column>
                                <p:column colspan="50">                                            
                                    <h:selectOneRadio id="state" 
                                                      value="#{activityController.activity.state}" 
                                                      label="state" 
                                                      required="true"
                                                      requiredMessage="State cannot be empty">
                                        <f:selectItem itemLabel="Upcoming" itemValue="UPCOMING" />
                                        <f:selectItem itemLabel="Available" itemValue="AVAILABLE" />
                                        <f:selectItem itemLabel="Expired" itemValue="EXPIRED" />
                                    </h:selectOneRadio>
                                    <p:message for="state"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="20"><p:outputLabel for="aircraftinfo" value="Aircraft Description: "/></p:column>
                                <p:column colspan="50">
                                    <p:inputTextarea id="aircraftinfo" 
                                                     value="#{activityController.activity.aircraftInfo}" 
                                                     label="Aircraftinfo"  
                                                     rows="5" 
                                                     cols="50"
                                                     required="true"
                                                     requiredMessage="Aircraft description cannot be empty"/>
                                    <p:message for="aircraftinfo"/>
                                    <p:watermark for="aircraftinfo" value="Aircraft description"/>
                                </p:column>

                            </p:row>
                            <p:row>
                                <p:column colspan="20"><p:outputLabel for="activityinfo" value="Activity Description: "/></p:column>
                                <p:column colspan="50">
                                    <p:inputTextarea id="activityinfo" 
                                                     value="#{activityController.activity.activityInfo}" 
                                                     label="Activityinfo" 
                                                     rows="5" 
                                                     cols="50"
                                                     required="true"
                                                     requiredMessage="Activity description cannot be empty"/>
                                    <p:message for="activityinfo"/>
                                    <p:watermark for="activityinfo" value="Activity description"/>
                                </p:column>
                            </p:row>

                            <c:choose>
                                <!--construct joy flight related options-->
                                <c:when test="#{activityController.activity.type.toString() == 'Joy Flight'}">
                                    <p:row>
                                        <p:column colspan="20"><p:outputLabel for="capacity" value="Capacity:"/></p:column>
                                        <p:column colspan="50">
                                            <p:inputText id="capacity" 
                                                         value="#{activityController.activity.capacity}"
                                                         required="true"
                                                         requiredMessage="Capacity cannot be empty"/>
                                            <p:message for="capacity"/>
                                            <p:watermark for="capacity" value="Number of participants"/>
                                        </p:column>                                                            
                                    </p:row>
                                </c:when>
                                <!--construct pilot training related options-->
                                <c:when test="#{activityController.activity.type.toString() == 'Pilot Training'}">
                                    <p:row>
                                        <p:column colspan="20"><p:outputLabel for="certificate" value="Certificate: "/></p:column>
                                        <p:column colspan="50">
                                            <p:inputText id="certificate" 
                                                         value="#{activityController.activity.certificationInfo}"
                                                         required="true"
                                                         requiredMessage="Certificate info cannot be empty"/>
                                            <p:message for="certificate"/>
                                            <p:watermark for="certificate" value="Certificate info"/>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column colspan="20"><p:outputLabel for="duration" value="Duration: "/></p:column>
                                        <p:column colspan="50">
                                            <p:inputText id="duration" 
                                                         value="#{activityController.activity.duration}"
                                                         required="true"
                                                         requiredMessage="Duration info cannot be empty"/>
                                            <p:message for="duration"/>
                                            <p:watermark for="duration" value="Time duration"/>
                                        </p:column>
                                    </p:row>  
                                </c:when>
                            </c:choose> 

                            <p:row>
                                <p:column colspan="20"><p><p:spacer width="10"/></p></p:column>
                                <p:column colspan="50">
                                    <p:button value="Cancle" outcome="activitylist" style="float: right;"/>
                                    <p:spacer width="20" style="float: right;"/>
                                    <ui:insert name="form-button-action" />                                            
                                </p:column>
                            </p:row> 
                        </p:panelGrid>
                    </h:form>
                </div><!--activity-form-section-->
            </div><!--center-component-->
        </ui:define>
    </ui:composition>
</html>
