<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:composition template="./../pagetemplate/adminoptionstemplate.xhtml">

        <!-- define the center content title -->
        <ui:define name="title">
            Activity List
        </ui:define>
       

        <!-- define the center content -->
        <ui:define name="center">
            <!-- the main content of the center compartment -->
            <div class="center-content">
                <h1>Activity List</h1>        
                <!-- a activity list containing general information of current activities -->
                <div id="activity-list-section">

                    <p:dataTable id="activity-table" var="activity" value="#{activityListController.activityList}">
                        <p:column headerText="Title">
                            <h:outputText value="#{activity.name}"/>
                        </p:column>

                        <p:column headerText="Type">
                            <h:outputText value="#{activity.type.toString()}"/>
                        </p:column>

                        <p:column headerText="Provider">
                            <h:outputText value="#{activity.provider}"/>
                        </p:column>

                        <p:column headerText="Activity State">
                            <h:outputText value="#{activity.state.toString()}"/>
                        </p:column>

                        <p:column><!-- link to the detail page of a single activity -->
                            <h:link value="details" outcome="activitydetails">
                                <f:param name="type" value="#{activity.type.name()}"/>
                                <f:param name="id" value="#{activity.id}"/>
                            </h:link>
                        </p:column>

                        <p:column><!-- link to the update page of a single activity -->
                            <h:link value="update" outcome="updateactivity" >
                                <f:param name="type" value="#{activity.type.name()}"/>
                                <f:param name="id" value="#{activity.id}"/>
                            </h:link>
                        </p:column>

                        <p:column><!-- link to the delete page of a single activity -->
                            <h:link value="delete" outcome="deleteactivity" style="color: red;">
                                <f:param name="type" value="#{activity.type.name()}"/>
                                <f:param name="id" value="#{activity.id}"/>
                            </h:link>
                        </p:column>
                    </p:dataTable>
                </div><!--activity-list-section-->

                <p></p>
                <!-- a form to specify which type of new activity to create -->
                <div id="new-activity-section">
                    <h:form id="new-activity-form">
                        <p:panel id="basic" header="New Activity" style="margin-bottom:20px">
                            <p:panelGrid>
                                <p:row>
                                    <p:column>
                                        <p:outputLabel for="activity-type" value="Activity Type: "/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="activity-type" value="#{activityListController.activityType}" label="activity-type">
                                            <f:selectItem itemLabel="Joy Flight" itemValue="JOYFLIGHT"/>
                                            <f:selectItem itemLabel="Pilot Training" itemValue="PILOTTRAINING"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column><p:spacer/></p:column>
                                    <p:column>
                                        <p:commandButton value="New Activity" action="#{activityListController.createNewActivity()}" ajax="false" style="float: right;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                </div><!--new-activity-section-->
            </div><!--center-component-->
        </ui:define>
    </ui:composition>
</html>


